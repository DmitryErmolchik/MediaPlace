<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- Root Context: defines shared resources visible to all other web components -->
	<bean class="com.dim4tech.mediaplace.bean.playercontext.PlayerContextImpl" id="mplayerContext">
		<property name="mplayerFIFOPath" value="/tmp/mplayer-fifo" />
		<property name="videoPath" value="/media/HDD" />
		<!-- <property name="videoPath" value="/home/dimer/Видео" /> -->
		<property name="videoExtensions">
			<array>
				<value>mp4</value>
				<value>mkv</value>
				<value>avi</value>
				<value>mpg</value>
				<value>mpeg</value>
			</array>
		</property>
		<property name="environment">
			<map>
				<entry key="DISPLAY" value=":0.0" />
				<entry key="VDPAU_DRIVER" value="sunxi" />
			</map>
		</property>
		<property name="sudoUser" value="dimer" />
		<property name="playerCommands"> 
			<list>
<!-- 				<value>/usr/bin/mplayer</value>
				<value>-fs</value>
				<value>-slave</value>
				<value>-input</value>
				<value>file=%fifo%</value>
				<value>-vo</value>
				<value>vdpau</value>
				<value>-vc</value>
				<value>ffmpeg12vdpau,ffh264vdpau</value> -->
				
				<value>/usr/bin/mplayer</value>
				<value>-slave</value>
				<value>-input</value>
				<value>file=%fifo%</value>
				<value>vo=vdpau</value>
				<value>vc=ffmpeg12vdpau,ffwmv3vdpau,ffvc1vdpau,ffh264vdpau,ffodivxvdpau</value>
			</list>
		</property>
		<property name="remoteCommands">
			<map>
				<entry key="pause">
					<bean class="com.dim4tech.mediaplace.domain.RemoteCommand">
						<property name="name" value="pause" />
					</bean>
				</entry>
				<entry key="stop">
					<bean class="com.dim4tech.mediaplace.domain.RemoteCommand">
						<property name="name" value="stop" />
						<property name="terminate" value="true" />
					</bean>
				</entry>
			</map>
		</property>
	</bean>

	<bean class="com.dim4tech.mediaplace.bean.RuntimeCommandLogger"
		id="runtimeCommandLogger" />

</beans>
